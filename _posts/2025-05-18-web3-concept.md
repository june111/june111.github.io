---
title: ''
subtitle: '一次讲清！区块、钱包、合约、代币背后的机制'
tags: 产品经理
author: June
cover: /assets/img/post/2025-05-18/cover.png
reward: 1
layout: post
date: 2025-05-18
---

# 产品经理视角看懂区块链四大核心概念

## 导语

这篇文章，我将从**产品经理的角度**，拆解新手必须弄懂的4个区块链核心概念：

1. **区块链**——为什么数据上链后是不可更改的？
2. **智能合**约——为什么产品功能不能随便改？
3. **钱包**——为什么没有钱包就用不了Dapp？
4. **代币**——为什么“发币”是双刃剑？

我们**不讲技术**，而是从**用户、需求、产品形态、设计思维**出发。通过**真实案例和故事**，来讲讲这些基础概念。

---

## 一、关于区块链

### 1. 区块与链

各位Web3探险家，欢迎来到“**赛博岛**”

这座岛非常特别：所有居民的**工作、交易、投票等行为**，全部用"**赛博链**"来记录。

岛上的每一件事，都会被记录在一块类似"石板"的数据记录上，按照**时间顺序**一块块叠加，这些石板被称为**区块（Block）**

而它们又通过**一种锁链般的结构首尾连接**，称为**链（Chain）**。最终，形成了**不可篡改、人人可查**的区块链（Blockchain）。

每个区块里包含了：
- 当前记录的交易数据；
- 上一个区块的哈希值（防伪标记）；
- 一个时间戳；
- 一些由共识机制决定的验证信息。

产品经理理解重点：
- **区块链不是"实时数据库"**，而是**写入后不可更改的历史记录存档系统**；
- 每次写入都要**等待打包进块**，因此才有**交易确认延迟**；
- **写入后几乎不可更改**，所以功能设计必须**慎重**，**避免依赖"修改数据"来修Bug**。

---

### 2. 共识机制

在Web2系统中，我们用**中心化数据库**（比如MySQL）写数据：后台程序说“这条记录生效”就完事了。

但在赛博岛，**不是岛主说了算**。那谁来决定哪些数据可以写进区块？答案是：通过一套叫"**共识机制**"的民主程序。

**共识机制是区块链的"协商协议"**

每一次打包数据，都要"居民代表"协商决定。不同的区块链，有**不同的"协商方式"**：

<a data-fancybox="gallery" href="{{site.baseurl}}/assets/img/post/2025-05-18/pow.jpg">
![共识机制]({{site.baseurl}}/assets/img/post/2025-05-18/pow.jpg)
</a>

本质上都在解决一个问题：**谁有权记录下一个区块**。

**产品经理理解重点**：
- **不同链的共识机制**，决定了它的**性能、稳定性与交易成本**；
- 设计产品功能时要考虑链的**吞吐量（TPS）**和**确认时间**；
- **高频交互产品**（如社交、游戏）应优先选择**高吞吐、低延迟**的链。

---

### 3. 节点

你发现赛博岛上的每个居民家里都有一本账本副本，他们也都能参与记账、验证和广播——这些人就是**节点（Node）**。

**区块链没有中心，但每个节点都能验证数据**
 
你可以把每一个“节点”想象成一个独立的服务器副本，它会同步整个链的数据、执行合约逻辑、验证新交易。

---

### 4. 主网、测试网

相当于正式环境和测试环境

主网（Mainnet）：
真实运行、使用真实代币的链。如Ethereum、Polygon主网。

测试网（Testnet）：
供开发测试用的“平行宇宙”，不涉及真实资产。

**在部署前必须在测试网上充分验证逻辑。**

---

### 5. 小结

当你在赛博岛上走了一圈，终于明白：

区块链，就像把每一笔数据都雕刻在石板上，交给全城人共同保管。它慢、笨重、但**公开透明、不可篡改**。

这意味着：
- 产品逻辑要“**先想清再动手**”，因为链上的数据几乎无法修改；
- 用户体验必须容忍“**等待确认**”的过程；
- 设计每一个**链上交互**，都要**慎重**。

你收拾好装备，准备深入探索赛博岛的底层动力机制——智能合约。

---

## 二、智能合约

### 1. 智能合约

在赛博岛上，**没有人工审批**、**没有中介机构**、更没有“等老板签字”的流程。这里的一切——**发工资、签合同、借钱、租房、投票、交易**，都是由**智能合约自动驱动**的。

就像Web2有**后端服务器控制业务逻辑**一样，**Web3的"后端"**，就是**智能合约**——一段**部署在区块链上的代码**。

**智能合约具备两个基本特征**：
- **自动执行（Autonomous）**：一旦部署，当条件满足，合约就**自动运行**，无需任何人触发或批准。就像你在淘宝上下单，系统会自动扣款、通知商家发货一样，智能合约能在链上**无须信任地实现这一切**。
- **不可更改（Immutable）**：除非使用特殊结构（如代理合约），合约一旦部署，**代码逻辑无法修改**。这是它**最大的安全性和风险点**。

**产品经理理解重点**：
- 智能合约是你产品的"**链上逻辑执行器**"，但**不像传统后端可随意部署**；
- **合约设计出错**或**Gas费过高**，都会**毁掉用户体验**甚至**项目本身**。

---

### 2. ABI与状态变量

#### 1. ABI（Application Binary Interface）
类似API，**ABI**像是你与智能合约之间的“翻译机”。比如你要Mint NFT，当你在前端点下“Mint”按钮时，其实你是在**调用合约的某个函数**，ABI将这个**函数名、参数类型**翻译成机器能懂的格式。

打个比方：ABI就像你去ATM机取钱时的“按钮菜单”，它定义了“你能对这个机器做什么”，但你看不到里面的代码逻辑。

#### 2. 状态变量（State Variables）
**状态变量是合约里存储的重要数据**。比如你做一个NFT项目，每个NFT的**所有者是谁、是否已被售出、价格多少**，都会存在状态变量中。

这就像在Web2中创建MySQL表，只不过这些字段：
- 永久存储；
- 写入成本高（每次写入消耗Gas）；
- 对用户资产安全至关重要。

---

### 3. Gas费

**每次与智能合约交互**（比如Mint、Transfer、Swap），每一次“写入链”的动作，用户都需要支付**Gas费**。

Gas费 = 操作所需Gas量 × 当前网络价格（Gas Price）

你可以把区块链想象成一条高速公路，每个交易是一辆车，Gas就是过路费——你出价越高，矿工越优先处理你的交易。

在以太坊上，Gas价格在网络拥堵时可能暴涨，比如Yuga Labs发布Otherside土地NFT时，一小时内Gas费超千万美元。

产品经理思维：

- 每一个用户操作都要计算“是否值得花Gas”；
- 高Gas操作应当合并执行、引导错峰、或交由后台处理。

---

### 4. 攻击、溢出与漏洞

#### 4.1. 重入攻击（Reentrancy）

就像赛博岛的ATM，在还没更新账户余额前，你反复按“取款”，每次都能成功。
最经典的是The DAO事件：攻击者利用合约函数在转账前未更新余额的逻辑，不断“递归调用”，盗走了以太坊上10%以上的资产。

#### 4.2. 溢出/下溢（Overflow/Underflow）

就像Excel计算超出范围出错一样，Solidity早期版本没有自动防护，攻击者可以利用整数溢出修改资产余额。

#### 4.3. 闪电贷攻击（Flash Loan）

攻击者借用大量资金（无需抵押），在同一交易中完成套利、操纵、还款，典型用于DEX价格操纵或投票攻击。

你需要记住，智能合约一旦部署，攻击者可24小时不眠不休寻找破绽，而用户的资产可能在合约中锁定数年之久。

2020年，一家名为bZx的去中心化借贷协议，在不到一周时间里连续被黑了两次。损失总额超过百万美元。攻击者的工具之一就是“闪电贷”。

攻击发生时，所有操作都记录在链上，没有人能阻止它发生，**因为这正是“智能合约”的本质：自动执行、不可更改。**

---

### 5. 合约升级

如果合约不可更改，项目要怎么**更新功能**？

这就用到了**代理合约（Proxy Contract）**——逻辑和存储分离。用户交互的永远是一个“代理入口”，它再将调用转发到不同版本的逻辑合约。升级时只更换逻辑层，不动数据层。

但这里有风险：

- 升级权限集中、缺乏多签管理，会形成“项目方随意篡改”的中心化风险；
- 升级后逻辑兼容性问题，可能导致用户资产“锁死”。

---

### 6. Dapp

**DApp是由智能合约驱动的去中心化应用**

所有链上产品的本质，都是DApp + 智能合约：

- 前端是展示层（HTML/JS）；
- 后端是链上合约（Solidity）；
- 用户数据 = 状态变量 + 事件日志；

产品经理职责：

- 设计DApp操作流程，确保每一个链上动作都有意义，因为写入需要消耗Gas；
- 控制链上调用频率，避免不必要的成本和风险。

---

## 三、钱包

我们再次回到那个赛博岛。岛上没有政府、没有中心化平台、也没有身份证

你是谁？你怎么证明“你就是你”？

---

### 1. 公钥与私钥

上岛之后，迎接者会递给你一串赛博钥匙

- 一把叫**私钥（Private Key），极其重要，只能你自己保管**，一旦泄露，别人就可以盗走你全部资产；
- 一把叫**公钥（Public Key），可以公开**。

这把钥匙，是你在这个世界的唯一凭证。只要你拥有它，就能打开你的数字财产宝库，签署交易指令，甚至参与治理投票。

这对钥匙源于一种叫非对称加密的数学技术。**私钥用于“签名”**，证明“这条交易是我发的”；**公钥用于验证这个签名是否真实**。

---

### 2. 助记词

你得保管好你的私钥，但私钥太长太难记怎么办？

于是开发者想出了“**助记词（Mnemonic）**”，通常是12或24个单词，比如：

```js
apple tiger ghost carry magnet dance ...

```

这组词是根据BIP39标准生成的，可以用来恢复整个钱包。本质上是**私钥的“可读版本”。**

换句话说，谁拥有助记词，谁就能掌控你的链上身份和资产。

产品经理视角：
- 用户丢了助记词，就等于永远丢失了资产；
- 钱包产品需引导用户完成备份，并教育其风险；
- 可引入社交恢复（Social Recovery）、多设备备份、iCloud 加密存储等方式降低门槛。

---

### 3. 地址

每一个账户都有一个唯一标识符，叫**地址（Address）**，地址通常由公钥通过哈希算法生成，通常长这样：

```js
0x1a2b3c...9f0d

```

这是你在区块链上的“门牌号”，也是别人转账给你的唯一凭据。

地址是由你的公钥推导出来的，不同链的地址格式略有差异，但本质是一样的：它是你的收款地址、身份标识，也是你在链上的“门牌号”。

- 你可以告诉朋友你的地址，对方就能给你转账；
- 但不能反推出你的私钥，除非破解加密算法（几乎不可能）；
- 一个钱包可以控制多个地址，就像你可以有多个房子，但都用同一把钥匙打开。

---

### 4. 钱包

你现在有了私钥，但这把钥匙太复杂，很容易遗失。

于是，有人造出一个装钥匙的“钥匙盒子”——这就是钱包的由来。

新手常误以为钱包是“一个用来装币的地方”，其实不然。

**钱包不是存资产的地方，而是管理你私钥的工具。资产实际上是记录在区块链上的，钱包只是让你能读到你拥有什么，并发出操作指令。**

钱包有两种类型：

- 热钱包（Hot Wallet）：连接网络，常见如 MetaMask、Phantom，可快速操作资产，但容易被黑客攻击。
- 冷钱包（Cold Wallet）：离线保存，如 Ledger 等硬件设备，更安全但操作繁琐。

产品经理视角：
- 钱包是用户与区块链互动的“前台”；
- 一个好的钱包设计，要在“安全性”与“易用性”中找到平衡。
- 初级用户常常因助记词丢失而彻底失去资产，钱包的 UX 设计必须强化“用户教育”与“风险防范”。

---

### 5. 签名

在区块链上，每一个操作都需要你“签名”——不是写字，而是用你的私钥加密一段指令，告诉网络：“我确认发出这条交易”。

比如你想把1个ETH转给朋友，钱包会生成一条交易内容，让你点击“签名”。签完之后，交易才会被发送到链上验证和执行。

产品经理视角：
- 所有用户交互的关键一步是“授权签名”，尤其在DeFi、NFT、治理投票等场景中。
- 产品应清晰展示签名内容（如 token 数量、接收方、Gas费等），避免误操作。

---

### 6. 交易与交易哈希

在区块链，**转账是用户最基本的动作**。例如你给朋友出了1个ETH，这里包括2个动作，**发送和接收**。

- 发送：你用钱包“签署一封信”（交易请求），然后交给“邮差”（矿工/节点）广播到全网，等待打包进区块。
- 接收：别人通过你提供的“地址”，将资产转入。只要链上有记录，你的钱包会自动“识别”到它。

交易发送后，链上会生成一条不可更改的记录。

这条记录会被打包进某个区块，并拥有一个唯一标识符——交易哈希（Transaction Hash，简称 TxHash）：

就像快递单号，你可以在区块链浏览器（如 Etherscan、Solscan）中查询这笔交易的：

状态（成功/失败）、时间戳、发起地址、接收地址、消耗的Gas费、所在区块编号等。

产品经理视角：

- 用户对“交易未到账”非常敏感，应提供清晰的状态提示；
- UX设计中应加入交易进度动画、状态刷新、失败重试等功能；
- 要做好链上状态监听、缓存优化、加载动画，提升用户体验。

---
### 7. 小结：

Web2的身份体系是基于“**账号+密码+服务器**”的中心化系统；

Web3的身份体系是基于“**地址+私钥+链上记录**”的去中心化系统。

在这个没有身份证的岛上：

- 你创建了钱包，系统生成了一组助记词（12个英文单词）；
- 你获得了一对钥匙（私钥和公钥）；
- 你拥有了一个地址（0x开头的字符串），这是你的链上身份；
- 你用私钥签署了第一笔交易，获得了一串交易哈希；
- 你真正成为了Web3世界的一员。

我们来对比传统与区块链的身份体系：

| 项目       | Web2 传统互联网     | Web3 区块链    |
|--------------|---------------|-------------|
| 身份凭证     | 账号+密码             | 地址+私钥     |
| 数据保存     | 平台服务器            | 公链节点   |
| 授权方式     | 登录状态              | 每次签名    |
| 资产控制     | 平台账户托管          | 用户自主掌控  |
| 身份恢复     | 手机号/邮箱找回       | 助记词唯一恢复 |

**一切用户交互，都绕不开钱包与签名。**

---

## 四、代币（15min）

赛博岛上没有传统货币体系，其赛博链采用工作量证明（POW）机制，通过代币（Token）激励驱动记账行为。

---

### 1. 代币（Token）

在Web3的语境中，Token（代币）是由智能合约发行、部署在区块链上的数字资产。

从形式上看，它是“**一段代码**”，存储在区块链上，不依赖于任何中心化的机构。

从功能上看，它是一种“**价值容器**”，它们可能代表：
- **金钱**：比如ETH、USDC等，可以用来交易。
- **股份**：如治理代币（如Uniswap的UNI），代表用户在社区中的治理权。
- **使用**权：如Gas代币MATIC，可以用来支付交易费用。
- **贡献证明**：代币还可以作为奖励，证明用户为生态所作出的贡献（如积分、徽章等）。

技术标准上：
- **ERC-20**：可互换代币，像筹码（如USDC）
- **ERC-721/ERC-1155**：不可互换的NFT，像收藏品

产品经理需理解：

代币不仅仅是经济模型的一部分，它还可以是产品设计的重要组件。它不仅承载了经济激励，还能承载社区治理、用户激励等功能。

理解代币设计的多维度，可以帮助你在产品设计中更加精准地运用代币机制。

---

### 2. 代币分发机制

岛上的建设者们为了推动岛屿的发展，推出了几种分发代币的方式，让每个参与者都能获得一定的代币奖励。

#### 2.1. 空投（Airdrop）

岛上的建设者决定，先奖励早期做出贡献的人。于是他们说：“凡是在第一批上岛的居户，都会获得100个代币。”

这就是空投。

定义：向早期用户“无偿分发代币”，**作为贡献奖励或引导使用**。

它是一种典型的**冷启动**方式，目的是：

- **奖励早期用户**：帮助项目获得早期用户的支持。
- **引发传播效应**：代币的赠送本身会激发用户讨论与传播。
- **推动社区建设**：通过分发代币，形成初步的治理社区。

关键概念：
- **资格标准**：防止刷号、虚假参与等行为，确保真正贡献的用户能够得到奖励。
- **分发方式**：你是按用户活跃度分发，还是均等分发？不同的方式对项目的推动效果不同。
- **分发时机**：是立即发放？还是有时间限制、分批释放？

 案例：
- Uniswap：空投每人400枚 UNI，后市值超千美金；

产品经理视角：

空投是一项非常精细的设计，需要在**奖励与防止刷号之间找到平衡**，同时空投不仅要考虑数量，还要设计如何让空投的代币成为**用户留存和社区活跃**的驱动力。

---

#### 2.2. 挖矿（Mining）：用户行为的“货币化”

岛屿的建设逐渐步入正轨，但还需要更多人参与其中。于是岛主提出了“你来干活，我就给你代币”的机制。

比如：

- 提供流动性 → 给代币
- 交易频繁 → 给代币
- 发布内容 → 给代币
- 推荐用户 → 给代币

这就是挖矿（Mining），它是一种行为**激励系统**。

在Web3世界中，“挖矿”不仅限于传统的算力挖矿，而是通过各种用户行为来获得代币奖励。

- **交易挖矿**：像dYdX、Blur这样，用户通过交易获得代币。
- **内容挖矿**：像Sidekick、Lens，用户通过发布内容或互动获得代币。
- **社交挖矿**：像CyberConnect、Galxe，用户完成任务或与其他人互动获得代币。

产品经理思考点：

- 挖矿不是让用户“挖比特币”，而是将“行为→价值”的路径用代币量化；
- 要避免“短期薅羊毛”，应引入“任务分层”、“打分系统”、“成长曲线”等机制，确保用户长期参与。

---

#### 2.3. RetroPGF（Retroactive Public Goods Funding）

以Optimism为代表，RetroPGF是一种“事后奖励贡献”的新范式。

项目方事先不承诺奖励，而是根据过去贡献打分分配代币。

意义：

- 强调“做对生态有益的事”，而不是单纯为了即时回报而行动。
- 鼓励长期主义的行为，不仅仅是短期任务的完成。

案例：

- Optimism：RetroPGF向开发工具、教育、治理等多类非营利性贡献者发放OP代币。

产品经理启发：

激励不仅是“任务式即时反馈”，也可以是“长期评价+回报”，这对打造真正的生态非常重要。

---

### 3. 代币经济模型（Tokenomics）

代币的设计不仅仅是“怎么发”，还涉及到**如何控制代币的流通和释放速度**，确保代币的长期稳定性。

#### 3.1. 代币总量（Cap）

- **固定上限（如BTC）**：总量有限，供给稀缺，带来通缩预期。
- **可通胀模型（如ETH）**：总量不固定，可以根据需求灵活调整。
- **混合释放（如UNI）**：有初始分配，后续根据社区需求缓慢释放。

#### 3.2. 代币分配方案（Token Allocation）

项目的代币分配方案通常包括：

- **社区与挖矿**：50%-60%，主要用于空投、激励等。
- **团队与顾问**：15%-20%，通常会有锁仓期。
- **投资机构**：15%-20%，有解锁计划。
- **储备与治理基金**：5%-10%，用于生态运营。

#### 3.3. 解锁 & 锁仓（Vesting）

为了避免项目方或投资者一开始就卖掉代币，项目通常会设置锁仓（Vesting）和质押（Staking）机制。

- **质押（Staking）**：用户锁定代币换取利息或治理权；或者进行理财，“存币生息”。
- **锁仓（Vesting）**：团队和投资人代币按月释放（Linear Unlocking），防止砸盘，类似股票的期权归属期。

例如：
- Curve的veCRV模型：锁定越久，获得的投票权和收益越大。
- Lido、Rocket Pool的ETH质押：通过质押ETH，用户获得“收益+权益”。

---

### 4. 代币的用途（Token Utility）

Web3项目中，如果代币只能“交易”，那么就是纯金融投机。一个有设计感的产品，要赋予**代币“可用性”**：

代币用途举例：

- **支付功能**：用于**交易手续费或链上Gas费用**。
- **访问权限**：持币**参与活动或获得白名单**资格。
- **产品解锁**：持有Token**解锁Pro功能**。
- **治理投票**：用户通过代币参与治**理提案、审议**等。
- **质押抵押**：用于验证人**选举或获取收益**。

产品经理视角：
代币的设计不仅要“用得上”，还要确保它在用户路径中有清晰的“实用场景”，避免让代币沦为“象征性”的存在。

---
### 5. 市值、FDV、代币流转率

很快，岛上的代币开始在链上流通，有人买有人卖，形成价格。

此时你需要理解3个概念：

**流通市值（Market Cap）**：
= 当前代币价格 × 流通中的代币数量
比如，代币价格 $1，共流通1亿枚，市值就是 $1亿。

**完全稀释估值（FDV）**：
= 当前价格 × 总发行量
比如，总计划发行10亿枚（虽然目前只放出1亿），FDV = $10亿。
用来预测项目的未来市值。

**代币流转率（Token Velocity）**：
= 总交易额 / 总市值
反映代币的活跃程度和项目的粘性。
高流转率 → 投机性高，缺乏粘性
 
产品经理视角：
- 市值和FDV是评估项目规模、成长空间、泡沫程度的核心指标；
- 了解这些概念可以帮助产品经理判断项目的长期潜力和市场行为
- 设计Token Economics时，要合理安排代币的释放节奏，防止“FDV虚高、用户套牢”。
- 健康模型应有：使用需求 + 锁仓机制 + 循环回收（如销毁机制）。

---

### 6. 小结

代币不仅仅是Web3项目中的“货币”，它还是“**激励 → 协作 → 治理 → 经济**”的闭环核心。

通过代币的设计，产品经理可以**引导用户行为**、加强社区治理、推动生态健康发展。

最终，代币要做的，不是炒作价格，而是通过精心设计与实施，**连接用户与产品的深度关系**。

---

## 五、总结

- **区块链**是不可篡改的数据库，透明且自治。
- **智能合约**是你产品逻辑的执行者，不可更改。
- **钱包**是你的用户入口。
- **代币**是价值的流转器，也是激励与治理的工具。
